From 9f3ba57e18d3004d279953d62fa3fdee2eac225a Mon Sep 17 00:00:00 2001
From: dmorgan <dmorgan@localhost.(none)>
Date: Thu, 9 Jun 2011 09:23:09 +0200
Subject: [PATCH] unclutter the menu for mageia

---
 layout/applications.menu |   44 ++++++++++++++++++++++++++++++++++++++++----
 1 files changed, 40 insertions(+), 4 deletions(-)

diff --git a/layout/applications.menu b/layout/applications.menu
index 9a15849..753b406 100644
--- a/layout/applications.menu
+++ b/layout/applications.menu
@@ -129,11 +129,47 @@
   <Menu>
     <Name>System</Name>
     <Directory>System-Tools.directory</Directory>
+      <Layout>
+       <Filename>mageia-drakconf.desktop</Filename>
+        <Separator/>
+        <Merge type="all"/>
+      </Layout>
     <Include>
-      <And>
-        <Category>System</Category>
-        <Not><Category>Settings</Category></Not>
-      </And>
+       <And>
+            <!-- never show those, they are in preference menu -->
+            <Not>
+              <Category>GNOME</Category>
+            </Not>
+            <Category>HardwareSettings</Category>
+        </And>
+       <And>
+          <Or>
+            <Or>
+              <Category>GTK</Category>
+              <Category>X-MandrivaLinux-CrossDesktop</Category>
+            </Or>
+            <Not>
+              <Category>FileTools</Category>
+              <Category>FileSystem</Category>
+              <Category>Security</Category>
+              <Category>Applet</Category>
+              <Category>KDE</Category>
+              <Category>Qt</Category>
+            </Not>
+          </Or>
+          <Or>
+            <And>
+              <Category>System</Category>
+              <Not>
+                <Category>Emulator</Category>
+                <Category>TerminalEmulator</Category>
+              </Not>
+            </And>
+            <Category>Monitor</Category>
+          </Or>
+        </And>
+        <Category>PackageManager</Category>
+        <Category>Printing</Category>
     </Include>
   </Menu>   <!-- End System Tools -->
 
-- 
1.7.4.4

